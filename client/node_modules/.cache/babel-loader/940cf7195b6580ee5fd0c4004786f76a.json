{"ast":null,"code":"var _jsxFileName = \"/app/src/components/forgotPass.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState } from 'react';\nimport { useAuth } from '../auth';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Forgot = props => {\n  _s();\n\n  // const [csrf, setCsrf] = useState(null);\n  const [user, setUser] = useState(props.user);\n  const [logged] = useAuth();\n\n  const submitHandler = e => {\n    e.preventDefault();\n    fetch('/api/forgot', {\n      method: 'post',\n      url: '/forgot',\n      body: JSON.stringify(user),\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(res => res.json() //no redirect, email will be sent link\n    ).then(data => {\n      console.log(data);\n      alert(`Email sent to: ${Object.values(data)}`);\n    }); //.then(data => console.log(data))\n    // .then(res => {\n    //   if (res.status === 200) {\n    //     console.log('User Validated, redirecting to home')\n    //     history.push('/')\n    //   }\n    //   console.log(res)\n    //   return res.json\n    // })\n    // .then(json => {\n    //   setUser(json.user) \n    //   console.log(json)\n    // })\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"login text-center\",\n    children: /*#__PURE__*/_jsxDEV(\"main\", {\n      className: \"form-signin\",\n      children: !logged ? /*#__PURE__*/_jsxDEV(\"form\", {\n        autoComplete: \"on\",\n        children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n          className: \"h3 mb-3 fw-normal\",\n          children: \"Enter your email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n          htmlFor: \"inputEmail\",\n          className: \"visually-hidden\",\n          children: \"Email address\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"email\",\n          id: \"inputEmail\",\n          className: \"form-control\",\n          placeholder: \"Email address\",\n          onChange: e => setUser({ ...user,\n            email: e.target.value.toLowerCase()\n          }),\n          required: true,\n          autoFocus: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"w-100 btn btn-lg btn-primary\",\n          type: \"submit\",\n          onClick: submitHandler,\n          children: \"Send Email\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 69,\n          columnNumber: 15\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 51,\n        columnNumber: 12\n      }, this) : /*#__PURE__*/_jsxDEV(\"h5\", {\n        children: \"You are logged in\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 14\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 11\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 48,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Forgot, \"pH84EPiDL0FKLT8jP41InJmm1lE=\", false, function () {\n  return [useAuth];\n});\n\n_c = Forgot;\nexport default Forgot;\n\nvar _c;\n\n$RefreshReg$(_c, \"Forgot\");","map":{"version":3,"sources":["/app/src/components/forgotPass.js"],"names":["React","useState","useAuth","Forgot","props","user","setUser","logged","submitHandler","e","preventDefault","fetch","method","url","body","JSON","stringify","headers","then","res","json","data","console","log","alert","Object","values","email","target","value","toLowerCase"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,QAAhB,QAAgC,OAAhC;AACA,SAASC,OAAT,QAAwB,SAAxB;;;AAEA,MAAMC,MAAM,GAAIC,KAAD,IAAW;AAAA;;AACxB;AACA,QAAM,CAACC,IAAD,EAAOC,OAAP,IAAkBL,QAAQ,CAACG,KAAK,CAACC,IAAP,CAAhC;AAEA,QAAM,CAACE,MAAD,IAAWL,OAAO,EAAxB;;AAEA,QAAMM,aAAa,GAAGC,CAAC,IAAI;AACzBA,IAAAA,CAAC,CAACC,cAAF;AACAC,IAAAA,KAAK,CAAC,aAAD,EAAgB;AACnBC,MAAAA,MAAM,EAAE,MADW;AAEnBC,MAAAA,GAAG,EAAE,SAFc;AAGnBC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeX,IAAf,CAHa;AAInBY,MAAAA,OAAO,EAAE;AACP,wBAAgB;AADT;AAJU,KAAhB,CAAL,CAQCC,IARD,CAQMC,GAAG,IAAIA,GAAG,CAACC,IAAJ,EARb,CASA;AATA,MAWDF,IAXC,CAWIG,IAAI,IAAI;AACXC,MAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACAG,MAAAA,KAAK,CAAE,kBAAiBC,MAAM,CAACC,MAAP,CAAcL,IAAd,CAAoB,EAAvC,CAAL;AAEF,KAfC,EAFyB,CAmBzB;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACC,GAjCH;;AAoCA,sBAEM;AAAK,IAAA,SAAS,EAAC,mBAAf;AAAA,2BACE;AAAM,MAAA,SAAS,EAAC,aAAhB;AAAA,gBACG,CAACd,MAAD,gBACF;AAAM,QAAA,YAAY,EAAC,IAAnB;AAAA,gCAEG;AAAI,UAAA,SAAS,EAAC,mBAAd;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAFH,eAGG;AAAO,UAAA,OAAO,EAAC,YAAf;AAA4B,UAAA,SAAS,EAAC,iBAAtC;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAHH,eAIG;AACA,UAAA,IAAI,EAAC,OADL;AAEA,UAAA,EAAE,EAAC,YAFH;AAGA,UAAA,SAAS,EAAC,cAHV;AAIA,UAAA,WAAW,EAAC,eAJZ;AAKA,UAAA,QAAQ,EAAEE,CAAC,IAAIH,OAAO,CAAC,EAAE,GAAGD,IAAL;AAAWsB,YAAAA,KAAK,EAAElB,CAAC,CAACmB,MAAF,CAASC,KAAT,CAAeC,WAAf;AAAlB,WAAD,CALtB;AAMA,UAAA,QAAQ,MANR;AAMS,UAAA,SAAS;AANlB;AAAA;AAAA;AAAA;AAAA,gBAJH,eAkBG;AAAQ,UAAA,SAAS,EAAC,8BAAlB;AAAiD,UAAA,IAAI,EAAC,QAAtD;AAA+D,UAAA,OAAO,EAAEtB,aAAxE;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAlBH;AAAA;AAAA;AAAA;AAAA;AAAA,cADE,gBAsBA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAvBH;AAAA;AAAA;AAAA;AAAA;AADF;AAAA;AAAA;AAAA;AAAA,UAFN;AA+BD,CAzED;;GAAML,M;UAIaD,O;;;KAJbC,M;AA2EN,eAAeA,MAAf","sourcesContent":["import React, { useState } from 'react'\nimport { useAuth } from '../auth'\n\nconst Forgot = (props) => {\n  // const [csrf, setCsrf] = useState(null);\n  const [user, setUser] = useState(props.user)\n\n  const [logged] = useAuth()\n\n  const submitHandler = e => {\n    e.preventDefault();\n    fetch('/api/forgot', {\n      method: 'post',\n      url: '/forgot',\n      body: JSON.stringify(user),\n      headers: {\n        'content-type': 'application/json'\n      }\n    })\n    .then(res => res.json()\n    //no redirect, email will be sent link\n    )\n  .then(data => { \n     console.log(data)\n     alert(`Email sent to: ${Object.values(data)}`)\n\n  })\n    \n    //.then(data => console.log(data))\n    \n    // .then(res => {\n    //   if (res.status === 200) {\n    //     console.log('User Validated, redirecting to home')\n    //     history.push('/')\n    //   }\n    //   console.log(res)\n    //   return res.json\n    // })\n    // .then(json => {\n    //   setUser(json.user) \n    //   console.log(json)\n    // })\n    }\n  \n  \n  return (\n    \n        <div className=\"login text-center\">  \n          <main className=\"form-signin\">\n           { !logged?\n           <form autoComplete=\"on\">\n              {/* <img className=\"mb-4\" src=\"/docs/5.0/assets/brand/bootstrap-logo.svg\" alt=\"\" width=\"72\" height=\"57\" /> */}\n              <h1 className=\"h3 mb-3 fw-normal\">Enter your email</h1>\n              <label htmlFor=\"inputEmail\" className=\"visually-hidden\">Email address</label>\n              <input \n              type=\"email\" \n              id=\"inputEmail\" \n              className=\"form-control\" \n              placeholder=\"Email address\" \n              onChange={e => setUser({ ...user, email: e.target.value.toLowerCase() })}\n              required autoFocus \n              />\n              \n                  {/* <div className=\"checkbox mb-3\">\n                    <label>\n                      <input type=\"checkbox\" value=\"remember-me\"/> Remember me\n                    </label>\n                  </div> */}\n              <button className=\"w-100 btn btn-lg btn-primary\" type=\"submit\" onClick={submitHandler}>Send Email</button>\n              {/* <p className=\"mt-5 mb-3 text-muted\">&copy; 2017â€“2021</p> */}\n            </form>\n            :<h5>You are logged in</h5>\n            } \n          </main>\n        </div>\n  )\n}\n\nexport default Forgot"]},"metadata":{},"sourceType":"module"}